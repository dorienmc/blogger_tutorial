<h1><%= @article.title %></h1>

<p>
  Tags:
  <% if @article.tags.size == 0 %>
      -
  <% else %>
      <% @article.tags.each do |tag| %>
          <%= link_to tag.name, tag_path(tag) %>
      <% end %>
  <% end %>
</p>

<p>
  <% if @article.image.exists? %>
      <%= image_tag @article.image.url(:medium) %>
  <% end %>
</p>

<p><%= @article.body %></p>

<h3>Comments (<%= @article.comments.size %>)</h3>
<% if @article.comments.size > 0 %>
    <%= render partial: 'articles/comment', collection: @article.comments %>
<% else %>
    <p>No comments</p>
<% end %>

<%= render partial: 'comments/form' %>

<br/>
<p><%= link_to '<< Back to Articles List', articles_path %></p>
<br/>

<% if logged_in? %>
    <p><%= link_to 'edit', edit_article_path(@article) %></p>
    <p><%= link_to 'delete', article_path(@article), method: :delete, data: {confirm: 'Really delete the article?'} %></p>
<% end %>